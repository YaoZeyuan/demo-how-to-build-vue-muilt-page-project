# demo-how-to-build-vue-muilt-page-project

大家好, 今天我来给大家分享一下vue的模板改造方面的知识. 我们今天的目标是, 从vue官方的webpack模板开始, 一步步将其改造成适合生产环境的版本.

在开始改造之前, 我们先来看一下官方模板和生产环境之间差了些什么.

##  官方模板和生产环境之间的差异

| 功能点                 | 官方模板                                         | 生产环境                                                                                                                                                               |
| :--------------------- | :----------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 按版本号控制线上js资源 | 无                                               | 根据版本号控制js代码的发布,可以生成map.json方便后端输出对应的资源地址                                                                                                  |
| 多项目支持             | 只支持单项目构建                                 | 所有项目共用一套js基础代码, 不同项目间相互独立编译, 输出不同的js和css. 对应的, 本地调试时不同项目的维护人员可以只编译指定项目的文件,不需要每次修改都要重新编译所有项目 |
| mockServer             | 无                                               | 本地编译时不同开发者可以指定不同的MockServer地址和接口转发规则                                                                                                         |
| CDN                    | 只支持一个静态资源地址                           | 根据发布环境不同,静态资源CDN地址也应该不同                                                                                                                             |
| 公用静态资源目录       | 有                                               | 应该有一个专门的目录用于存放那些通用的静态资源文件                                                                                                                     |
| 代码风格               | 默认提供Standard/Airbnb/none三种方式供选择       | 应该统一使用Standard标准                                                                                                                                               |
| 代码风格检测           | 只有简单的检测                                   | 每次提交代码前都应该对代码风格进行检测,检测不通过则拒绝提交.为了加快检测速度,每次提交前应该只检测修改了的部分                                                          |
| 自动构建系统           | 无                                               | 应该支持gitlab环境,如果发现指定模式的tag,自动进行编译/发布操作                                                                                                         |
| 体积分析               | npm run analyze                                  | 应该提供一个可视的js体积分析报告界面,方便对js文件体积进行优化                                                                                                          |
| 网络请求               | 官方推荐axios,支持标准的get/post/put/delete请求  | 除了标准请求,还应该支持jsonp方式的调用                                                                                                                                 |
| 低版本浏览器           | 默认对占有率在1%以上,非IE8及以下的浏览器提供支持 | 可以考虑对占有率在0.01%以上,非IE8及以下的浏览器提供支持(确实遇到了使用Android4.x系列的用户)                                                                            |


